# New things learned

## Fix metronome inconsistency

An amazing article about audio timing accuracy:

[https://web.dev/articles/audio-scheduling](https://web.dev/articles/audio-scheduling)

#### Animation frame loops

[https://css-tricks.com/using-requestanimationframe-with-react-hooks/](https://css-tricks.com/using-requestanimationframe-with-react-hooks/)

#### using web worker (tried before)

Web Worker to create a separate worker thread for the metronome, but that was still quite inconsistent.

[https://plainenglish.io/blog/web-worker-in-react](https://plainenglish.io/blog/web-worker-in-react)

## Change state multiple times from inside useEffect

Help from Dan Abramov:

[https://overreacted.io/making-setinterval-declarative-with-react-hooks/](https://overreacted.io/making-setinterval-declarative-with-react-hooks/)

## Detect mobile or desktop

@media (pointer: coarse)

@media (pointer: fine)
